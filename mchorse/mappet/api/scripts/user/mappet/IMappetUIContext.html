<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (1.8.0_211) on Mon May 02 20:32:38 BST 2022 -->
<title>IMappetUIContext (mappet 0.1.5-1.12.2 API)</title>
<meta name="date" content="2022-05-02">
<link rel="stylesheet" type="text/css" href="../../../../../../stylesheet.css" title="Style">
<script type="text/javascript" src="../../../../../../script.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="IMappetUIContext (mappet 0.1.5-1.12.2 API)";
        }
    }
    catch(err) {
    }
//-->
var methods = {"i0":6,"i1":6,"i2":6,"i3":6,"i4":6,"i5":6,"i6":6};
var tabs = {65535:["t0","All Methods"],2:["t2","Instance Methods"],4:["t3","Abstract Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../../../mchorse/mappet/api/scripts/user/mappet/IMappetUIBuilder.html" title="interface in mchorse.mappet.api.scripts.user.mappet"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li>Next&nbsp;Class</li>
</ul>
<ul class="navList">
<li><a href="../../../../../../index.html?mchorse/mappet/api/scripts/user/mappet/IMappetUIContext.html" target="_top">Frames</a></li>
<li><a href="IMappetUIContext.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">mchorse.mappet.api.scripts.user.mappet</div>
<h2 title="Interface IMappetUIContext" class="title">Interface IMappetUIContext</h2>
</div>
<div class="contentContainer">
<div class="description">
<ul class="blockList">
<li class="blockList">
<hr>
<br>
<pre>public interface <span class="typeNameLabel">IMappetUIContext</span></pre>
<div class="block">This interface represents an UI context, which is an object that
 stores UI data when player has opened custom GUI made with
 <a href="../../../../../../mchorse/mappet/api/scripts/user/mappet/IMappetUIBuilder.html" title="interface in mchorse.mappet.api.scripts.user.mappet"><code>IMappetUIBuilder</code></a>.

 <p>It's usually available after the UI has been sent using <a href="../../../../../../mchorse/mappet/api/scripts/user/entities/IScriptPlayer.html#openUI-mchorse.mappet.api.scripts.user.mappet.IMappetUIBuilder-"><code>IScriptPlayer.openUI(IMappetUIBuilder)</code></a>
 in the handler function.</p>

 <pre><code>
    function main(c)
    {
        var ui = mappet.createUI(c, "handler").background();
        var button = ui.button("Push me").id("button");

        // Place a button in the middle of the screen
        button.rxy(0.5, 0.5).wh(80, 20).anchor(0.5);
        c.getSubject().openUI(ui);
    }

    function handler(c)
    {
        var uiContext = c.getSubject().getUIContext();

        // Do something with UI context...
    }
 </code></pre></div>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t2" class="tableTab"><span><a href="javascript:show(2);">Instance Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t3" class="tableTab"><span><a href="javascript:show(4);">Abstract Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code><a href="../../../../../../mchorse/mappet/api/ui/components/UIComponent.html" title="class in mchorse.mappet.api.ui.components">UIComponent</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../mchorse/mappet/api/scripts/user/mappet/IMappetUIContext.html#get-java.lang.String-">get</a></span>(java.lang.String&nbsp;id)</code>
<div class="block">Returns a UI component by given ID or <code>null</code>.</div>
</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code>java.lang.String</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../mchorse/mappet/api/scripts/user/mappet/IMappetUIContext.html#getContext--">getContext</a></span>()</code>
<div class="block">Get the ID of the last context menu item.</div>
</td>
</tr>
<tr id="i2" class="altColor">
<td class="colFirst"><code><a href="../../../../../../mchorse/mappet/api/scripts/user/nbt/INBTCompound.html" title="interface in mchorse.mappet.api.scripts.user.nbt">INBTCompound</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../mchorse/mappet/api/scripts/user/mappet/IMappetUIContext.html#getData--">getData</a></span>()</code>
<div class="block">Get the NBT compound of the UI data.</div>
</td>
</tr>
<tr id="i3" class="rowColor">
<td class="colFirst"><code>java.lang.String</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../mchorse/mappet/api/scripts/user/mappet/IMappetUIContext.html#getHotkey--">getHotkey</a></span>()</code>
<div class="block">Get the ID of the last pressed hot key.</div>
</td>
</tr>
<tr id="i4" class="altColor">
<td class="colFirst"><code>java.lang.String</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../mchorse/mappet/api/scripts/user/mappet/IMappetUIContext.html#getLast--">getLast</a></span>()</code>
<div class="block">Get the ID of last edited UI component.</div>
</td>
</tr>
<tr id="i5" class="rowColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../mchorse/mappet/api/scripts/user/mappet/IMappetUIContext.html#isClosed--">isClosed</a></span>()</code>
<div class="block">Returns whether the UI was just closed.</div>
</td>
</tr>
<tr id="i6" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../mchorse/mappet/api/scripts/user/mappet/IMappetUIContext.html#sendToPlayer--">sendToPlayer</a></span>()</code>
<div class="block">Sends UI changes to the player.</div>
</td>
</tr>
</table>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="getData--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getData</h4>
<pre><a href="../../../../../../mchorse/mappet/api/scripts/user/nbt/INBTCompound.html" title="interface in mchorse.mappet.api.scripts.user.nbt">INBTCompound</a>&nbsp;getData()</pre>
<div class="block">Get the NBT compound of the UI data.

 <p>This data is formed by the UI components that have ID. The data will
 be populated only when the UI elements will actually change their values.
 Until then this data will be empty.</p>

 <pre><code>
    function main(c)
    {
        var ui = mappet.createUI(c, "handler").background();
        var name = ui.textbox().id("name");
        var lastname = ui.textbox().id("lastname");

        // Place two text fields in the middle of the screen
        name.rxy(0.5, 0.5).wh(140, 20).anchor(0.5);
        lastname.rx(0.5).ry(0.5, 25).wh(140, 20).anchor(0.5);

        c.getSubject().openUI(ui);
    }

    function handler(c)
    {
        var uiContext = c.getSubject().getUIContext();

        // If the user will input first in the name text box, the data
        // will be just {name:"John"}. If the user will input first
        // the lastname, then the data will be {lastname:"Appleseed"}.
        // Once both fields will be edited, you'll get:
        // {name:"John",lastname:"Appleseed"}
        c.send(uiContext.getData().stringify());
    }
 </code></pre></div>
</li>
</ul>
<a name="isClosed--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>isClosed</h4>
<pre>boolean&nbsp;isClosed()</pre>
<div class="block">Returns whether the UI was just closed.

 <p>The return value is <code>true</code> only when the user closed the
 screen, and the UI context is about to get cleared from the player.</p>

 <pre><code>
    function main(c)
    {
        var ui = mappet.createUI(c, "handler").background();
        var button = ui.button("Push me").id("button");

        // Place a button in the middle of the screen
        button.rxy(0.5, 0.5).wh(80, 20).anchor(0.5);
        c.getSubject().openUI(ui);
    }

    function handler(c)
    {
        var uiContext = c.getSubject().getUIContext();

        // Check if the user closed the screen
        if (uiContext.isClosed())
        {
            // Do something with the data
            c.getSubject().send("Welcome back to the world!");
        }
    }
 </code></pre></div>
</li>
</ul>
<a name="getLast--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getLast</h4>
<pre>java.lang.String&nbsp;getLast()</pre>
<div class="block">Get the ID of last edited UI component.

 <p>If there were multiple UI elements were changed (see <a href="../../../../../../mchorse/mappet/api/ui/components/UIComponent.html#updateDelay-int-"><code>UIComponent.updateDelay(int)</code></a>),
 then only the last one will be provided.</p>

 <pre><code>
    function main(c)
    {
        var ui = mappet.createUI(c, "handler").background();
        var title = ui.label("...").id("title");
        var name = ui.textbox().id("name");
        var lastname = ui.textbox().id("lastname");

        // Place two text fields in the middle of the screen
        name.rxy(0.5, 0.5).wh(140, 20).anchor(0.5);
        lastname.rx(0.5).ry(0.5, 25).wh(140, 20).anchor(0.5);
        title.rx(0.5).y(20).wh(140, 20).anchorX(0.5);
        title.labelAnchor(0.5, 0.5);

        c.getSubject().openUI(ui);
    }

    function handler(c)
    {
        var uiContext = c.getSubject().getUIContext();
        var last = uiContext.getLast();

        // Depending on the last value, update the title accordingly
        if (last === "name")
        {
            uiContext.get("title").label("Name: " + uiContext.getData().getString("name"));
        }
        else if (last === "lastname")
        {
            uiContext.get("title").label("Last name: " + uiContext.getData().getString("lastname"));
        }
    }
 </code></pre></div>
</li>
</ul>
<a name="getHotkey--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getHotkey</h4>
<pre>java.lang.String&nbsp;getHotkey()</pre>
<div class="block">Get the ID of the last pressed hot key.

 <p>If no keybind was pressed, it will be an empty string (<code>""</code>).
 See <a href="../../../../../../mchorse/mappet/api/ui/components/UIComponent.html#keybind-int-java.lang.String-java.lang.String-boolean-boolean-boolean-"><code>UIComponent.keybind(int, String, String, boolean, boolean, boolean)</code></a> method
 for an example.</p></div>
</li>
</ul>
<a name="getContext--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getContext</h4>
<pre>java.lang.String&nbsp;getContext()</pre>
<div class="block">Get the ID of the last context menu item.

 <p>If no context menu was activated, it will be an empty string (<code>""</code>).
 See <a href="../../../../../../mchorse/mappet/api/ui/components/UIComponent.html#context-java.lang.String-java.lang.String-java.lang.String-int-"><code>UIComponent.context(String, String, String, int)</code></a> method for an example.</p></div>
</li>
</ul>
<a name="get-java.lang.String-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>get</h4>
<pre><a href="../../../../../../mchorse/mappet/api/ui/components/UIComponent.html" title="class in mchorse.mappet.api.ui.components">UIComponent</a>&nbsp;get(java.lang.String&nbsp;id)</pre>
<div class="block">Returns a UI component by given ID or <code>null</code>. You can use this
 in the handler script of the UI to change certain properties.

 <pre><code>
    function main(c)
    {
        var ui = mappet.createUI(c, "handler").background();
        var button = ui.button("Push me").id("button");

        // Place a button in the middle of the screen
        button.rxy(0.5, 0.5).wh(80, 20).anchor(0.5);
        c.getSubject().openUI(ui);
    }

    function handler(c)
    {
        var uiContext = c.getSubject().getUIContext();

        if (uiContext.getLast() === "button")
        {
            uiContext.get("button").label("Push me harder!");
        }
    }
 </code></pre></div>
</li>
</ul>
<a name="sendToPlayer--">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>sendToPlayer</h4>
<pre>void&nbsp;sendToPlayer()</pre>
<div class="block">Sends UI changes to the player.

 <p>If you edited the UI context's component data using <a href="../../../../../../mchorse/mappet/api/scripts/user/mappet/IMappetUIContext.html#get-java.lang.String-"><code>get(String)</code></a>
 outside of the UI handler script (UI context, after executing the handler script, sends the
 changed data afterwards automatically), you need to manually send the data to the player
 using this function.</p>

 <pre><code>
    // ui.js
    function main(c)
    {
        var ui = mappet.createUI().background();
        var button = ui.button("Push me").id("button");

        // Place a button in the middle of the screen
        button.rxy(0.5, 0.5).wh(80, 20).anchor(0.5);
        c.getSubject().openUI(ui);
    }

    // other.js
    function main(c)
    {
        var uiContext = c.getSubject().getUIContext();

        // Assuming that UI context is still present (i.e. the UI is still open)
        if (uiContext)
        {
            uiContext.get("button").label("Too late!");
            uiContext.sendToPlayer();
        }
    }
 </code></pre></div>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../../../mchorse/mappet/api/scripts/user/mappet/IMappetUIBuilder.html" title="interface in mchorse.mappet.api.scripts.user.mappet"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li>Next&nbsp;Class</li>
</ul>
<ul class="navList">
<li><a href="../../../../../../index.html?mchorse/mappet/api/scripts/user/mappet/IMappetUIContext.html" target="_top">Frames</a></li>
<li><a href="IMappetUIContext.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</body>
</html>
